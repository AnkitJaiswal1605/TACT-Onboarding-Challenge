"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.verifyConfig = exports.parseConfig = void 0;
const zod_1 = require("zod");
const optionsSchema = zod_1.z.object({
    debug: zod_1.z.boolean().optional(),
    masterchain: zod_1.z.boolean().optional(),
    external: zod_1.z.boolean().optional(),
    experimental: zod_1.z.object({
        inline: zod_1.z.boolean().optional()
    }).strict().optional()
}).strict();
const projectSchema = zod_1.z.object({
    name: zod_1.z.string(),
    path: zod_1.z.string(),
    output: zod_1.z.string(),
    options: optionsSchema.optional(),
}).strict();
const configSchema = zod_1.z.object({
    projects: zod_1.z.array(projectSchema)
}).strict();
function parseConfig(src) {
    let parsed = JSON.parse(src);
    return configSchema.parse(parsed);
}
exports.parseConfig = parseConfig;
function verifyConfig(config) {
    return configSchema.parse(config);
}
exports.verifyConfig = verifyConfig;
