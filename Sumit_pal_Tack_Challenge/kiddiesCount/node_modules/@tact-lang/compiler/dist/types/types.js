"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.typeRefEquals = exports.printTypeRef = void 0;
function printTypeRef(src) {
    if (src.kind === 'ref') {
        return src.name + (src.optional ? '?' : '');
    }
    else if (src.kind === 'map') {
        return `map<${src.key + (src.keyAs ? ' as ' + src.keyAs : '')}, ${src.value + (src.valueAs ? ' as ' + src.valueAs : '')}>`;
    }
    else if (src.kind === 'void') {
        return '<void>';
    }
    else if (src.kind === 'null') {
        return '<null>';
    }
    else if (src.kind === 'ref_bounced') {
        return `bounced<${src.name}>`;
    }
    else {
        throw Error('Invalid type ref');
    }
}
exports.printTypeRef = printTypeRef;
function typeRefEquals(a, b) {
    if (a.kind !== b.kind) {
        return false;
    }
    if (a.kind === 'ref' && b.kind === 'ref') {
        return a.name === b.name && a.optional === b.optional;
    }
    if (a.kind === 'map' && b.kind === 'map') {
        return a.key === b.key && a.value === b.value;
    }
    if (a.kind === 'ref_bounced' && b.kind === 'ref_bounced') {
        return a.name === b.name;
    }
    if (a.kind === 'null' && b.kind === 'null') {
        return true;
    }
    if (a.kind === 'void' && b.kind === 'void') {
        return true;
    }
    return false;
}
exports.typeRefEquals = typeRefEquals;
