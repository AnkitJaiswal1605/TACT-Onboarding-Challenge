"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Writer = void 0;
class Writer {
    #indent = 0;
    #lines = [];
    get indent() {
        return this.#indent;
    }
    inIndent = (handler) => {
        this.#indent++;
        try {
            handler();
        }
        finally {
            this.#indent--;
        }
    };
    append(src = '') {
        this.#lines.push(src);
    }
    // appendNoIndent(src: string = '') {
    //     this.#lines.push(src);
    // }
    // append(src: string = '') {
    //     this.appendNoIndent(' '.repeat(this.#indent * 2) + src);
    // }
    // write(src: string) {
    //     let lines = trimIndent(src).split('\n');
    //     for (let l of lines) {
    //         this.append(l);
    //     }
    // }
    end() {
        return this.#lines.join('\n');
    }
}
exports.Writer = Writer;
