"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const __1 = require("..");
const createTestClient_1 = require("../tests/createTestClient");
const convert_1 = require("../utils/convert");
const awaitBalance_1 = require("./awaitBalance");
const openTestTreasure_1 = require("./openTestTreasure");
describe('openTestTreasure', () => {
    it('should transfer funds from test treasure', async () => {
        const client = (0, createTestClient_1.createTestClient)();
        const wallet = await (0, openTestTreasure_1.openTestTreasure)(client);
        const seqno = await wallet.wallet.getSeqNo();
        const dest = __1.Address.parseFriendly('EQClZ-KEDodcnyoyPX7c0qBBQ9QePzzquVwKuaqHk7F01825').address;
        let balance = await client.getBalance(dest);
        await wallet.wallet.transfer({
            to: dest,
            value: (0, convert_1.toNano)(0.001),
            seqno,
            secretKey: wallet.secretKey,
            bounce: false
        });
        await (0, awaitBalance_1.awaitBalance)(client, dest, balance);
    }, 60000);
});
