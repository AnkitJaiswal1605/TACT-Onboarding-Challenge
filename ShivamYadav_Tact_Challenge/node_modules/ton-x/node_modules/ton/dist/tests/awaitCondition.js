"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.awaitCondition = void 0;
const time_1 = require("../utils/time");
async function awaitCondition(ms, condition) {
    let start = Date.now();
    while (Date.now() - start < ms) {
        if (await condition()) {
            return;
        }
        await (0, time_1.delay)(1000);
    }
    if (await condition()) {
        return;
    }
    throw Error('Condition await timeout');
}
exports.awaitCondition = awaitCondition;
