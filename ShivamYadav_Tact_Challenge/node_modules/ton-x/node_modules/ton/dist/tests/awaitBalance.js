"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.awaitBalance = void 0;
const time_1 = require("../utils/time");
const TIMEOUT = 30000;
async function awaitBalance(client, address, value) {
    let start = Date.now();
    while (Date.now() - start < TIMEOUT) {
        if ((await client.getBalance(address)).gt(value)) {
            return;
        }
        await (0, time_1.delay)(1000);
    }
    if ((await client.getBalance(address)).gt(value)) {
        return;
    }
    throw Error('Balance await timeout');
}
exports.awaitBalance = awaitBalance;
