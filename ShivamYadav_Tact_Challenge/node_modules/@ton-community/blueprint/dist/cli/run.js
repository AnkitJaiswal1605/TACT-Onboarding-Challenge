"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.run = void 0;
const createNetworkProvider_1 = require("../network/createNetworkProvider");
const utils_1 = require("../utils");
const run = async (args, ui) => {
    require('ts-node/register');
    const { module: mod } = await (0, utils_1.selectFile)(await (0, utils_1.findScripts)(), {
        ui,
        hint: args._.length > 1 && args._[1].length > 0 ? args._[1] : undefined,
    });
    if (typeof mod.run !== 'function') {
        throw new Error('Function `run` is missing!');
    }
    const networkProvider = await (0, createNetworkProvider_1.createNetworkProvider)(ui);
    await mod.run(networkProvider, args._.slice(2));
};
exports.run = run;
