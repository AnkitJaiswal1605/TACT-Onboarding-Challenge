"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createTestWallet = void 0;
const bn_js_1 = require("bn.js");
const convert_1 = require("../utils/convert");
const awaitBalance_1 = require("./awaitBalance");
const openTestTreasure_1 = require("./openTestTreasure");
async function createTestWallet(client, value) {
    let treasure = await (0, openTestTreasure_1.openTestTreasure)(client);
    const wallet = await client.createNewWallet({ workchain: 0 });
    const seqno = await treasure.wallet.getSeqNo();
    await treasure.wallet.transfer({
        to: wallet.wallet.address,
        seqno: seqno,
        bounce: false,
        value: (0, convert_1.toNano)(value),
        secretKey: treasure.secretKey
    });
    await (0, awaitBalance_1.awaitBalance)(client, wallet.wallet.address, new bn_js_1.BN(0));
    return wallet;
}
exports.createTestWallet = createTestWallet;
